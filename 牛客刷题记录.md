# 牛客刷题记录

## sql刷题

### 1.drop delete

drop是完全删除表，包括表结构；delete是删除表数据，保留表的结构，而且可以加where,只删除一行或者多行



### 2.UNION操作符

可以合并多个SELECT语句的结果集，但是只使用UNION操作符的时候，他只会列出不重复的值；如果想要获取重复值，就要用UNION ALL操作符才行

### 3.sql查询语句的执行顺序

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240705130335067.png" alt="image-20240705130335067" style="zoom:67%;" />

### 4.视图

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240705132018720.png" alt="image-20240705132018720" style="zoom:67%;" />

**为了保证视图是可更新的，其定义中不能包含以下语法结构：**
  集合操作符
  DISTINCT 操作符
  聚合函数或分析型函数
  GROUP BY，ORDER BY，CONNECT BY，或 START WITH 字句
  在 SELECT 之后的列表中使用集合表达式
  在 SELECT 之后的列表中使用子查询
  连接（join）（但是有例外情况）
  对于不可更新的视图，可以利用 INSTEAD OF 触发器对其数据进行修改。

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240705171945574.png" alt="image-20240705171945574" style="zoom:67%;" />





### 5.= NULL 或 != NULL 等比较运算符

在MySQL中**不能使用 = NULL 或 != NULL 等比较运算符在列中查找 NULL 值 。**

要用IS NULL 或 IS NOT NULL才会进行NULL值或非NULL值得查找。

5.HAVING 子句

在 SQL 中增加 HAVING 子句原因是，WHERE 关键字无法与聚合分组函数一起使用。HAVING 子句可以让我们在用GROUP BY分组后筛选各组数据。

- where是分组之前进行过滤，不满足where条件不参与分组；having是分组后对结果进行过滤。
- where不能对聚合函数进行判断，而having可以。（即where后面不能用聚合函数）

### 6.DDL DML DQL DCL

DDL（数据定义语句）：create  show   desc  alter  drop

DML(数据操作语句）：insert  delete  update

DQL（数据查询语句）：select

DCL（数据控制语句）：

8.对表的结构修改属于。DDL语句。

常用公式。 

  添加列： ALTER TABLE  表名  add 字段名 

  修改列： ALTER TABLE  表名  modify 字段名 

  删除列： ALTER TABLE  表名  drop 字段名





### 7.STUFF(原字符, 开始位置, 删除长度, 插入字符) 



### 8.关于锁

共享锁S：共享锁锁定的资源可以被其他用户读取，但是其他用户无法修改，在执行select时，sql server会对对象加共享锁。（其他人可读不可写） 

  排它锁X：(独占锁)其他人不能读也不能写（所以不会多重更新）。 

  更新锁U：**当SQL Server准备更新数据时，它首先对数据对象作更新锁锁定，这样数据将不能被修改，但可以读取。等到SQL Server确定要进行更新数据操作时，他会自动将更新锁换为独占锁，当对象上有其他锁存在时，无法对其加更新锁。** 

  **架构锁：在执行依赖于表架构的操作时使用。架构锁的类型为：架构修改 (Sch****-****M) 和架构稳定性 (Sch****-****S)。**



### 9.CHARINDEX
通过CHARINDEX如果能够找到对应的字符串，则返回该字符串位置i（有效位置范围为1<= i <= length(input)），否则返回0。

注意***位置是从1开始\***。



### 10.显式事务和隐式事务

![image-20240706093158377](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240706093158377.png)



### 11.delete和truncate

在Oracle中执行delete删除操作不会降低高水位。执行truncate 操作可以降低高水位

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240706093743557.png" alt="image-20240706093743557" style="zoom:67%;" />



### 12.alter的用法

1.添加列
alter table 表名 add column 列名 类型 【first|after 字段名】; 2.修改列的类型或约束
alter table 表名 modify column 列名 新类型 【新约束】; 3.修改列名
alter table 表名 change column 旧列名 新列名 类型; 4.删除列
alter table 表名 drop column 列名; 5.修改表名
alter table 表名 rename 【to】 新表名;  ... 收起    

**alter的用法：**

- 1.添加列
  alter table 表名 add column 列名 类型 【first|after 字段名】; 
- 2.修改列的类型或约束
  alter table 表名 modify column 列名 新类型 【新约束】; 
- 3.修改列名
  alter table 表名 change column 旧列名 新列名 类型; 
- 4.删除列
  alter table 表名 drop column 列名; 
- 5.修改表名
  alter table 表名 rename 【to】 新表名; 

### 13.子查询知识点

  子查询知识点（来源：机智的豆子）： 

  where型子查询：指把内部查询的结果作为外层查询的比较条件。子查询：单列单值
 from型子查询：把内层的查询结果当成临时表，供外层sql再次查询。子查询：多行多列
 in子查询：内层查询语句仅返回一个数据列，这个数据列的值将供外层查询语句进行比较 子查询：单列多行
 exists子查询：把外层的查询结果，拿到内层，看内层是否成立，简单来说后面的返回true,外层（也就是前面的语句）才会执行，否则不执行。
 any子查询：只要满足内层子查询中的任意一个比较条件，就返回一个结果作为外层查询条件。
 all子查询：内层子查询返回的结果需同时满足所有内层查询条件。
 比较运算符子查询：子查询中可以使用的比较运算符如 “>” “<” “= ” “!=”
 更多例子,请见原文链接：https://blog.csdn.net/qq_39380737/article/details/81127497



A单例单值就是查出一个结果所以一帮用=,<,>等运算符
 B单例单值就是查出类似于一个数组样的结果所以一般用IN
 C多列多值就是查出类似于一张表所以一般用exit或者not exit
 D集合查询就是操作两张表进行集合操作，集合操作有union，except，intersect

### 14.count()函数

有两种使用方式：1、使用count(*)对表中的行数进行计数，此种用法不忽略null值；2、使用count(column)对特定列中具有值的行进行计数，此种用法忽略null值。  



## insert into 和 select into

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240707132802677.png" alt="image-20240707132802677" style="zoom:67%;" />



### 15.回收表的操作功能语句revoke ... on ... from



## 16. 正则表达式

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240710112724490.png" alt="image-20240710112724490" style="zoom:67%;" />



## alter table命令

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240710113643887.png" alt="image-20240710113643887" style="zoom:67%;" />



## OPPO2024秋招

1.线程的实现主要分为三类：用户级线程、内核级线程以及前两类的组合-混合线程



2.TCP首部的固定长度为20 Bytes（字节）



3.临界资源是互斥共享资源，非共享数据不属于临界资源。磁带机、打印机只允许一次供一个进程使用，CPU也是临界资源。



4.http常用的字段含义

HOST 字段：客户端发送请求时，用来指定服务器的域名

Content-Length 字段：服务器在返回数据时，表明本次回应的数据长度

Connection 字段最常用于客户端要求服务器使用持久连接，以便其他请求复用

Content-Type 字段用于服务器回应时，告诉客户端，本次数据是什么格式

Content-Encoding 字段说明数据的压缩方法。表示服务器返回的数据使用了什么压缩格式

Referer 告知服务器请求的原始资源的URI



5.Linux 中，下面创建软链接的命令：ln -s file1 link1



6.在 SELinux 中，默认的工作模式是：强制执行模式



7.在 Linux 中，以下哪个命令用于查看当前的防火墙状态：iptables -L



8.关于TCP协议

<img src="C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20240706145042376.png" alt="image-20240706145042376" style="zoom:67%;" />
